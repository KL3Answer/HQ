<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    

    <title>
      Java基础知识（十五）Files类和Path接口 | HQ&#39;s Cabin 
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
      <meta name="author" content="HQ">
    
    

    <meta name="description" content="Files类和Path接口是JDK1.7添加的文件操作的类，可以是我们对文件的操作更加方便。 一、Path接口Path表示的是一个目录名序列，其后可以跟一个文件名。路径中的第一个可以是绝对路径和相对路径。如在类Unix系统中，可以这样： Path absolute=Paths.get(&amp;quot;/home&amp;quot;,&amp;quot;demo&amp;quot;); Path relative=Paths.">
<meta name="keywords" content="Java基础知识">
<meta property="og:type" content="article">
<meta property="og:title" content="Java基础知识（十五）Files类和Path接口 | HQ&#39;s Cabin">
<meta property="og:url" content="http://yoursite.com/2015/04/13/Java基础知识（十五）Files类和Path接口/index.html">
<meta property="og:site_name" content="HQ&#39;s Cabin">
<meta property="og:description" content="Files类和Path接口是JDK1.7添加的文件操作的类，可以是我们对文件的操作更加方便。 一、Path接口Path表示的是一个目录名序列，其后可以跟一个文件名。路径中的第一个可以是绝对路径和相对路径。如在类Unix系统中，可以这样： Path absolute=Paths.get(&amp;quot;/home&amp;quot;,&amp;quot;demo&amp;quot;); Path relative=Paths.">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-08-18T21:36:26.367Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java基础知识（十五）Files类和Path接口 | HQ&#39;s Cabin">
<meta name="twitter:description" content="Files类和Path接口是JDK1.7添加的文件操作的类，可以是我们对文件的操作更加方便。 一、Path接口Path表示的是一个目录名序列，其后可以跟一个文件名。路径中的第一个可以是绝对路径和相对路径。如在类Unix系统中，可以这样： Path absolute=Paths.get(&amp;quot;/home&amp;quot;,&amp;quot;demo&amp;quot;); Path relative=Paths.">
    
    
    
      <link rel="icon" type="image/x-icon" href="/favicon.png">
    
    <link rel="stylesheet" href="/css/uno.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/archive.css">
    <link rel="stylesheet" href="/css/china-social-icon.css">

</head>
<body>

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    

<header class="panel-cover panel-cover--collapsed">


  <div class="panel-main">

  
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        
        <a href="/" title="link to homepage for HQ&#39;s Cabin"><img src="/avatar.png" width="80" alt="HQ&#39;s Cabin logo" class="panel-cover__logo logo"></a>
        

        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage">HQ&#39;s Cabin</a></h1>
        <hr class="panel-cover__divider">

        

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">

              
                
                <li class="navigation__item"><a href="/#blog" title="" class="blog-button">笔记</a></li>
              
                
                <li class="navigation__item"><a href="/archive" title="" class="">归档</a></li>
              
                
                <li class="navigation__item"><a href="/eggs" title="" class="">其他</a></li>
              

            </ul>
          </nav>

          <!-- ----------------------------
To add a new social icon simply duplicate one of the list items from below
and change the class in the <i> tag to match the desired social network
and then add your link to the <a>. Here is a full list of social network
classes that you can use:

    icon-social-500px
    icon-social-behance
    icon-social-delicious
    icon-social-designer-news
    icon-social-deviant-art
    icon-social-digg
    icon-social-dribbble
    icon-social-facebook
    icon-social-flickr
    icon-social-forrst
    icon-social-foursquare
    icon-social-github
    icon-social-google-plus
    icon-social-hi5
    icon-social-instagram
    icon-social-lastfm
    icon-social-linkedin
    icon-social-medium
    icon-social-myspace
    icon-social-path
    icon-social-pinterest
    icon-social-rdio
    icon-social-reddit
    icon-social-skype
    icon-social-spotify
    icon-social-stack-overflow
    icon-social-steam
    icon-social-stumbleupon
    icon-social-treehouse
    icon-social-tumblr
    icon-social-twitter
    icon-social-vimeo
    icon-social-xbox
    icon-social-yelp
    icon-social-youtube
    icon-social-zerply
    icon-mail

-------------------------------->

<!-- add social info here -->



<nav class="cover-navigation navigation--social">
  <ul class="navigation">

    
      <!-- Github -->
      <li class="navigation__item">
        <a href="https://github.com/KL3Answer" title="Huno on GitHub">
          <i class="icon icon-social-github"></i>
          <span class="label">GitHub</span>
        </a>
      </li>
    

    <!-- China social icon -->
    <!--
    
      <li class="navigation__item">
        <a href="" title="">
          <i class='icon cs-icon-douban'></i>
          <span class="label">Douban</span>
        </a>
      </li>

      <li class="navigation__item">
        <a href="" title="">
          <i class='icon cs-icon-weibo'></i>
          <span class="label">Weibo</span>
        </a>
      </li>

    -->



  </ul>
</nav>



        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner entry">
            

<article class="post-container post-container--single">

  <header class="post-header">
    
    <h1 class="post-title">Java基础知识（十五）Files类和Path接口</h1>

    

    <div class="post-meta">
      <time datetime="2015-04-13" class="post-meta__date date">2015-04-13</time> 

      <span class="post-meta__tags tags">

          

          
             &#8226; 标签:
            <font class="tags">
              <a class="tags-link" href="/tags/Java基础知识/">Java基础知识</a>
            </font>
          

      </span>
    </div>
    
    

  </header>

  <section id="post-content" class="article-content post">
    <p>Files类和Path接口是JDK1.7添加的文件操作的类，可以是我们对文件的操作更加方便。</p>
<h3 id="一、Path接口"><a href="#一、Path接口" class="headerlink" title="一、Path接口"></a>一、Path接口</h3><p>Path表示的是一个目录名序列，其后可以跟一个文件名。路径中的第一个可以是绝对路径和相对路径。如在类Unix系统中，可以这样：</p>
<pre><code>Path absolute=Paths.get(&quot;/home&quot;,&quot;demo&quot;);
Path relative=Paths.get(&quot;test&quot;,&quot;conf&quot;,&quot;a.properties&quot;);
</code></pre><p>这里使用了Paths类，这个类非常简洁：</p>
<pre><code>public final class Paths {
    private Paths() { }
    public static Path get(String first, String... more) {
        return FileSystems.getDefault().getPath(first, more);
    }
    public static Path get(URI uri) {/*具体实现*/}
}    
</code></pre><p>我一般使用Paths来获取Path对象，Path对象的常用方法有：</p>
<pre><code>boolean isAbsolute();
Path getFileName();
Path getParent();
int getNameCount();//根据路径分隔符来统计
Path getName(int index);//由上面的统计数确定index
Path subpath(int beginIndex, int endIndex);
Path resolve(Path other);//组合路径
Path resolveSibling(Path other);
Path relativize(Path other);
Path toAbsolutePath();
File toFile();    
</code></pre><h3 id="二、Files"><a href="#二、Files" class="headerlink" title="二、Files"></a>二、Files</h3><p>Files类是对文件的操作变得快捷。</p>
<ol>
<li><p>常用读写方法：</p>
<pre><code>public static InputStream newInputStream(Path path, OpenOption... options)

public static OutputStream newOutputStream(Path path, OpenOption... options)

public static BufferedReader newBufferedReader(Path path, Charset cs)

public static BufferedReader newBufferedReader(Path path)

public static BufferedWriter newBufferedWriter

public static byte[] readAllBytes(Path path)

public static List&lt;String&gt; readAllLines(Path path)

public static Path write(Path path, byte[] bytes, OpenOption... options)

public static long copy(InputStream in, Path target, CopyOption... options)

public static long copy(Path source, OutputStream out)
</code></pre><p>其中copy方法有多个重载：</p>
<pre><code>private static long copy(InputStream source, OutputStream sink)

public static long copy(InputStream in, Path target, CopyOption... options)

public static long copy(Path source, OutputStream out)

public static Path copy(Path source, Path target, CopyOption... options)    
</code></pre><p>copy示例：</p>
<pre><code>Path source = Paths.get(&quot;a.txt&quot;);
Path destination = Paths.get(&quot;b.txt&quot;);
Files.copy(p,q);
</code></pre><p>同样的还有move和delete方法，在此就不再写示例了。        </p>
</li>
<li><p>文件创建、获取的方法</p>
<pre><code>public static Path createFile(Path path, FileAttribute&lt;?&gt;... attrs)

public static Path createDirectory(Path dir, FileAttribute&lt;?&gt;... attrs)
//创建多级目录
public static Path createDirectories(Path dir, FileAttribute&lt;?&gt;... attrs)

public static Path createTempFile(Path path, FileAttribute&lt;?&gt;... attrs)
</code></pre></li>
<li><p>文件信息获取方法</p>
<pre><code>public static boolean isSameFile(Path path, Path path2)
public static boolean isHidden(Path path)
public static String probeContentType(Path path)
public static boolean isDirectory(Path path, LinkOption... options)
public static boolean isRegularFile(Path path, LinkOption... options)
public static long size(Path path)
public static boolean exists(Path path, LinkOption... options)
public static boolean isReadable(Path path)
public static boolean isWritable(Path path)
</code></pre></li>
<li><p>文件的迭代</p>
<p> 使用目录流迭代可以显著提高效率    </p>
<pre><code>public static DirectoryStream&lt;Path&gt; newDirectoryStream(Path dir)

public static DirectoryStream&lt;Path&gt; newDirectoryStream(Path dir, String glob)

public static DirectoryStream&lt;Path&gt; newDirectoryStream(Path dir,DirectoryStream.Filter&lt;? super Path&gt; filter)
</code></pre><p> 目录流迭代示例：</p>
<p> a、</p>
<pre><code>DirectoryStream&lt;Path&gt; d = Files.newDirectoryStream(Paths.get(&quot;D://demo&quot;));
for (Path p : d){
  System.out.println(p.getFileName());
}
//输出结果：
a
b.txt
c
</code></pre><p> b、</p>
<pre><code>DirectoryStream&lt;Path&gt; d = Files.newDirectoryStream(Paths.get(&quot;D://demo&quot;),&quot;*.txt&quot;);
for (Path p : d){
   System.out.println(p.getFileName());
}
//输出结果：
b.txt
</code></pre><p> c、</p>
<pre><code>DirectoryStream&lt;Path&gt; d = Files.newDirectoryStream(Paths.get(&quot;D://demo&quot;),new DirectoryStream.Filter&lt;Path&gt;(){
    @Override
    public boolean accept(Path entry)  {
       return Files.isDirectory(entry)?true:false;
    }
});
for (Path p : d){
   System.out.println(p.getFileName());
}
//输出结果：
  a
c
</code></pre></li>
<li><p>使用walkFileTree方法访问目录中的子孙成员</p>
<p> 以下是书上的一个示例：</p>
<pre><code>Files.walkFileTree(dir,new SimpleFileVisiotr&lt;Path&gt;{
    public FileVisitResult(Path path ,BasicFileAttributes attrs) throws IOException{
        if(attrs.isDirectory()){
            System.out.println(path);
            return FileVisitResult.CONTINUE;
        }
    }
    public FileVisitResult visitFileFailed(Path path,IOException exc) throws IOException
        return FileVisit.CONTINUE;
    }
});
</code></pre><p> 注意，需要覆盖visitFileFailed方法。</p>
</li>
<li><p>使用文件系统操作ZIP文件</p>
<p> FileSystems操作ZIP文件比ZipInputStream更简单</p>
<pre><code>FileSystem fs=FileSystem.newFileSystem(Paths.get(zipname),null);
//将zip中的指定文件拷贝出来
Files.copy(fs.getPath(sourceName),targetPath);
</code></pre></li>
</ol>

  </section>

  
  
  

<!-- 注释掉这段以关闭评论  -->
<!-- <section class="post-comments">

	<div id="lv-container" data-id="city" data-uid="MTAyMC8yNzk0NC80NTIx">
		<script type="text/javascript">
		   (function(d, s) {
		       var j, e = d.getElementsByTagName(s)[0];

		       if (typeof LivereTower === 'function') { return; }

		       j = d.createElement(s);
		       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
		       j.async = true;

		       e.parentNode.insertBefore(j, e);
		   })(document, 'script');
		</script>
	</div>

</section> -->


</article>


            <footer class="footer">

    <span class="footer__copyright">&copy; 2014-2015. | 由<a href="https://hexo.io/">Hexo</a>强力驱动 | 主题<a href="https://github.com/someus/huno">Huno</a></span>
    
</footer>
        </div>
    </div>

    <!-- js files -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/scale.fix.js"></script>
    

    

    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript"> 
        $(document).ready(function(){
            MathJax.Hub.Config({ 
                tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\(','\\)']]} 
            });
        });
    </script>


    

    <script src="/js/awesome-toc.min.js"></script>
    <script>
        $(document).ready(function(){
            $.awesome_toc({
                overlay: true,
                contentId: "post-content",
            });
        });
    </script>


    
    
    <!--kill ie6 -->
<!--[if IE 6]>
  <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->

</body>
</html>
